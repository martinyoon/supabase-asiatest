<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>자유게시판</title>
    <style>
      :root {
        --bg: #090f1d;
        --panel: #121a2b;
        --panel-2: #0f1726;
        --line: #2a3550;
        --text: #e7ecf8;
        --muted: #9cb0d0;
        --primary: #38bdf8;
        --danger: #f87171;
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        font-family: "Pretendard", "Noto Sans KR", sans-serif;
        background: radial-gradient(circle at 0% 0%, #1f2a44 0%, var(--bg) 50%, #050914 100%);
        color: var(--text);
      }

      .wrap { width: min(1040px, 100%); margin: 0 auto; padding: 24px 16px 44px; }
      .title-row { margin-bottom: 14px; }
      h1 { margin: 0; font-size: 1.9rem; }
      .subtitle { margin: 6px 0 0; color: var(--muted); }

      .card {
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 16px;
        box-shadow: 0 16px 36px rgba(0, 0, 0, 0.28);
      }

      .section { margin-top: 12px; }
      .section-title { margin: 0 0 10px; font-size: 15px; color: #d8e3f7; }

      input, textarea, select {
        width: 100%; border: 1px solid var(--line); border-radius: 10px; padding: 11px 12px;
        font-size: 14px; background: var(--panel-2); color: var(--text);
      }

      textarea { min-height: 130px; resize: vertical; }

      button {
        border: 0; border-radius: 10px; padding: 10px 14px; font-weight: 700; cursor: pointer;
      }

      #submitBtn, #refreshBtn, #clearSearchBtn, .editBtn, .saveEditBtn {
        background: var(--primary); color: #062133;
      }

      #signOutBtn, .deleteBtn, .cancelEditBtn {
        background: rgba(248, 113, 113, 0.16);
        color: #fecaca;
        border: 1px solid rgba(248, 113, 113, 0.4);
      }

      button:disabled { opacity: 0.6; cursor: not-allowed; }

      .account-bar {
        display: flex; justify-content: space-between; gap: 8px; align-items: center;
      }

      .auth-state { color: var(--muted); font-size: 13px; }
      .composer-form { display: grid; gap: 10px; }
      .actions { display: flex; gap: 8px; }

      .list-toolbar {
        display: grid; grid-template-columns: 1fr 160px auto; gap: 8px; margin-bottom: 10px;
      }

      .meta { margin: 0 0 10px; color: var(--muted); font-size: 14px; min-height: 20px; }
      .posts { display: grid; gap: 10px; }

      .post {
        border: 1px solid var(--line); border-radius: 12px; padding: 14px; background: var(--panel);
      }

      .post-head {
        display: flex; justify-content: space-between; gap: 12px; align-items: center;
      }

      .post-title { margin: 0; font-size: 17px; }
      .post-actions { display: flex; gap: 6px; }
      .post-info { margin-top: 6px; color: var(--muted); font-size: 13px; }
      .post-content { margin-top: 10px; white-space: pre-wrap; line-height: 1.5; }
      .inline-edit { margin-top: 10px; display: grid; gap: 8px; }
      .inline-edit textarea { min-height: 110px; }

      .empty {
        border: 1px dashed var(--line); border-radius: 12px; padding: 18px; color: var(--muted); text-align: center;
      }

      @media (max-width: 680px) {
        .list-toolbar { grid-template-columns: 1fr; }
        .actions, .account-bar { flex-direction: column; align-items: flex-start; }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header class="title-row">
        <h1>자유게시판</h1>
        <p class="subtitle">로그인 상태에서 글 등록/수정/삭제가 가능합니다.</p>
      </header>

      <section class="card section">
        <h2 class="section-title">계정</h2>
        <div class="account-bar">
          <div id="authState" class="auth-state">세션 확인 중...</div>
          <button id="signOutBtn" type="button">로그아웃</button>
        </div>
      </section>

      <section class="card section">
        <h2 class="section-title">글 작성</h2>
        <form id="postForm" class="composer-form">
          <input id="titleInput" type="text" placeholder="제목" maxlength="120" required />
          <textarea id="contentInput" placeholder="내용" maxlength="2000" required></textarea>
          <div class="actions">
            <button id="submitBtn" type="submit">글 등록</button>
            <button id="refreshBtn" type="button">목록 새로고침</button>
          </div>
        </form>
      </section>

      <section class="card section">
        <h2 class="section-title">게시글 목록</h2>
        <div class="list-toolbar">
          <input id="searchInput" type="search" placeholder="제목/내용/작성자 검색" />
          <select id="sortSelect">
            <option value="latest">최신순</option>
            <option value="oldest">오래된순</option>
          </select>
          <button id="clearSearchBtn" type="button">검색 초기화</button>
        </div>

        <div id="status" class="meta"></div>
        <section id="posts" class="posts"></section>
      </section>
    </div>

    <script type="module" src="./js/main.js"></script>
  </body>
</html>
